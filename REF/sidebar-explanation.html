<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>좌측 서브메뉴 작동 원리 설명 📚</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        
        .header h1 {
            font-size: 2.5rem;
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 1.2rem;
            color: #7f8c8d;
        }
        
        .content-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
        }
        
        .section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }
        
        .section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background: linear-gradient(45deg, #3498db, #2980b9);
        }
        
        .section-title {
            font-size: 1.8rem;
            color: #2c3e50;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .section-title i {
            font-size: 1.5rem;
            color: #3498db;
        }
        
        .code-block {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            position: relative;
            overflow-x: auto;
        }
        
        .code-block::before {
            content: attr(data-lang);
            position: absolute;
            top: 5px;
            right: 10px;
            background: #e74c3c;
            color: white;
            padding: 2px 8px;
            border-radius: 3px;
            font-size: 0.8rem;
        }
        
        .code-block pre {
            margin: 0;
            white-space: pre-wrap;
            font-family: 'Courier New', monospace;
        }
        
        .flow-step {
            background: linear-gradient(45deg, #f8f9fa, #e9ecef);
            padding: 15px;
            margin: 10px 0;
            border-radius: 10px;
            border-left: 4px solid #3498db;
            position: relative;
        }
        
        .flow-step::before {
            content: attr(data-step);
            position: absolute;
            left: -15px;
            top: 50%;
            transform: translateY(-50%);
            background: #3498db;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.9rem;
        }
        
        .flow-step h4 {
            color: #2c3e50;
            margin-bottom: 8px;
            margin-left: 20px;
        }
        
        .flow-step p {
            margin-left: 20px;
            color: #555;
        }
        
        .demo-sidebar {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            overflow: hidden;
            border: 1px solid #e0e0e0;
            max-width: 300px;
            margin: 20px auto;
        }
        
        .demo-sidebar-header {
            background: #f8f9fa;
            color: #333;
            padding: 20px 24px;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .demo-sidebar-header h3 {
            font-size: 16px;
            font-weight: 700;
            margin: 0;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .demo-nav-item {
            border-bottom: 1px solid #f0f0f0;
        }
        
        .demo-nav-link {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px 24px;
            text-decoration: none;
            color: #666;
            font-weight: 500;
            font-size: 14px;
            transition: all 0.2s ease;
            background: white;
            cursor: pointer;
        }
        
        .demo-nav-link:hover {
            background: #f8f9fa;
            color: #333;
        }
        
        .demo-nav-link.expanded {
            background: #f0f8ff;
            color: #2c5aa0;
            font-weight: 600;
        }
        
        .demo-nav-link .expand-icon {
            font-size: 12px;
            transition: transform 0.2s ease;
            color: #999;
        }
        
        .demo-nav-link.expanded .expand-icon {
            transform: rotate(180deg);
            color: #2c5aa0;
        }
        
        .demo-sub-nav {
            max-height: 0;
            overflow: hidden;
            background: #fafafa;
            transition: max-height 0.3s ease;
        }
        
        .demo-nav-item.expanded .demo-sub-nav {
            max-height: 200px;
            border-top: 1px solid #e8e8e8;
        }
        
        .demo-sub-link {
            display: block;
            padding: 12px 24px 12px 52px;
            text-decoration: none;
            color: #777;
            font-size: 13px;
            transition: all 0.2s ease;
            position: relative;
        }
        
        .demo-sub-link::before {
            content: '→';
            position: absolute;
            left: 36px;
            color: #ccc;
            font-size: 12px;
        }
        
        .demo-sub-link:hover {
            background: #f0f8ff;
            color: #2c5aa0;
            padding-left: 56px;
        }
        
        .demo-sub-link:hover::before {
            color: #2c5aa0;
        }
        
        .highlight {
            background: linear-gradient(120deg, #a8edea 0%, #fed6e3 100%);
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 4px solid #e74c3c;
        }
        
        .highlight h4 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .mechanism-box {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .mechanism-item {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        
        .mechanism-item h4 {
            margin-bottom: 10px;
            font-size: 1.2rem;
        }
        
        .mechanism-item p {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .section {
                padding: 20px;
            }
            
            .code-block {
                padding: 15px;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 헤더 -->
        <div class="header">
            <h1><i class="fas fa-bars"></i> 좌측 서브메뉴 작동 원리 설명</h1>
            <p>고등학생도 쉽게 이해할 수 있는 CSS와 JavaScript 메커니즘 📚</p>
        </div>

        <div class="content-grid">
            <!-- 1. 기본 개념 -->
            <div class="section">
                <h2 class="section-title">
                    <i class="fas fa-home"></i>
                    1. 기본 개념 이해하기
                </h2>
                
                <div class="highlight">
                    <h4>🏠 HTML = 집의 구조</h4>
                    <p>HTML은 서브메뉴의 기본 골격을 만들어요. 마치 집을 지을 때 기둥과 벽을 세우는 것과 같아요!</p>
                </div>
                
                <div class="code-block" data-lang="HTML">
                    <pre>&lt;aside class="product-sidebar"&gt;          &lt;!-- 사이드바 전체 집 --&gt;
  &lt;div class="product-sidebar-header"&gt;   &lt;!-- 집의 지붕 (제목 부분) --&gt;
    &lt;h3&gt;제품정보&lt;/h3&gt;
  &lt;/div&gt;
  
  &lt;nav class="product-sidebar-nav"&gt;      &lt;!-- 집의 본체 (메뉴 부분) --&gt;
    &lt;ul class="product-nav-list"&gt;        &lt;!-- 방들의 목록 --&gt;
      
      &lt;li class="product-nav-item"&gt;      &lt;!-- 첫 번째 방 --&gt;
        &lt;a class="product-nav-link expandable"&gt;  &lt;!-- 방문 (클릭 가능) --&gt;
          &lt;span&gt;디지털 계전기&lt;/span&gt;     &lt;!-- 방 이름표 --&gt;
          &lt;i class="expand-icon"&gt;&lt;/i&gt;    &lt;!-- 문 열림/닫힘 표시 화살표 --&gt;
        &lt;/a&gt;
        
        &lt;ul class="product-sub-nav"&gt;     &lt;!-- 방 안의 작은 서랍들 --&gt;
          &lt;li&gt;&lt;a class="product-sub-link"&gt;K-PAM 5500&lt;/a&gt;&lt;/li&gt;  &lt;!-- 서랍1 --&gt;
          &lt;li&gt;&lt;a class="product-sub-link"&gt;K-PAM 10&lt;/a&gt;&lt;/li&gt;    &lt;!-- 서랍2 --&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      
    &lt;/ul&gt;
  &lt;/nav&gt;
&lt;/aside&gt;</pre>
                </div>

                <div class="highlight">
                    <h4>🎨 CSS = 집의 인테리어</h4>
                    <p>CSS는 HTML로 만든 구조를 예쁘게 꾸며요. 벽지 바르고, 조명 달고, 가구 배치하는 것과 같아요!</p>
                </div>

                <div class="code-block" data-lang="CSS">
                    <pre>/* 🏠 사이드바 전체 집 꾸미기 */
.product-sidebar {
    background: white;        /* 흰색 벽지 */
    border-radius: 8px;       /* 모서리를 둥글게 */
    box-shadow: 0 2px 8px;    /* 그림자 효과 (입체감) */
    border: 1px solid #e0e0e0; /* 연한 회색 테두리 */
}

/* 🚪 방문(메뉴) 꾸미기 */
.product-nav-link.expandable {
    display: flex;            /* 내용물을 가로로 나란히 배치 */
    padding: 16px 24px;       /* 방문 주변에 여백 만들기 */
    color: #666;              /* 글자 색깔 */
    background: white;        /* 배경색 */
    transition: all 0.2s;     /* 변화할 때 0.2초 동안 부드럽게 */
}</pre>
                </div>

                <div class="highlight">
                    <h4>⚡ JavaScript = 집의 전기시설 (동작 제어)</h4>
                    <p>JavaScript는 사용자가 클릭했을 때 무슨 일이 일어날지 정해요. 전기 스위치처럼 켜고 끄는 역할이에요!</p>
                </div>

                <div class="code-block" data-lang="JavaScript">
                    <pre>// 🔌 전기 스위치 역할을 하는 함수
function initProductSidebar() {
    // 🚪 모든 방문(클릭 가능한 메뉴)을 찾기
    const expandableLinks = document.querySelectorAll('.product-nav-link.expandable');
    
    // 🚪 각 방문에 "클릭했을 때 뭘 할지" 설정하기
    expandableLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            // 🛑 기본 동작 막기 (페이지 이동 방지)
            e.preventDefault();
            
            // 🏠 클릭한 방문이 속한 방 찾기
            const navItem = this.closest('.product-nav-item');
            
            // 🔍 그 방의 서랍이 열려있는지 확인
            const isExpanded = navItem.classList.contains('expanded');
            
            // 🚪 모든 방의 서랍 닫기 (한 번에 하나만 열리게)
            expandableLinks.forEach(otherLink => {
                const otherNavItem = otherLink.closest('.product-nav-item');
                otherNavItem.classList.remove('expanded');
                otherLink.classList.remove('expanded');
            });
            
            // 🔓 클릭한 방의 서랍이 닫혀있었다면 열기
            if (!isExpanded) {
                navItem.classList.add('expanded');
                this.classList.add('expanded');
            }
        });
    });
}</pre>
                </div>
            </div>

            <!-- 2. 기본 흐름 -->
            <div class="section">
                <h2 class="section-title">
                    <i class="fas fa-arrows-alt"></i>
                    2. 기본 흐름 (전체적인 작동 순서)
                </h2>

                <div class="flow-step" data-step="1">
                    <h4>페이지 로딩</h4>
                    <p>웹브라우저가 HTML, CSS, JavaScript 파일을 다운로드해요</p>
                </div>

                <div class="flow-step" data-step="2">
                    <h4>HTML 구조 완성</h4>
                    <p>집 건설 완료! 사이드바의 뼈대가 만들어져요</p>
                </div>

                <div class="flow-step" data-step="3">
                    <h4>CSS 스타일 적용</h4>
                    <p>인테리어 완료! 예쁜 색깔과 모양이 입혀져요</p>
                </div>

                <div class="flow-step" data-step="4">
                    <h4>JavaScript 이벤트 등록</h4>
                    <p>전기시설 설치! 클릭 감지기가 준비돼요</p>
                </div>

                <div class="flow-step" data-step="5">
                    <h4>사용자 대기 상태 ✅</h4>
                    <p>모든 준비 완료! 사용자의 클릭을 기다려요</p>
                </div>

                <div class="flow-step" data-step="6">
                    <h4>사용자가 메뉴 클릭!</h4>
                    <p>드디어 사용자가 메뉴를 클릭했어요!</p>
                </div>

                <div class="flow-step" data-step="7">
                    <h4>JavaScript 함수 실행</h4>
                    <p>클릭 감지기가 작동해서 정해진 동작을 실행해요</p>
                </div>

                <div class="flow-step" data-step="8">
                    <h4>CSS 클래스 추가/제거</h4>
                    <p>'expanded' 딱지를 붙이거나 떼어내요</p>
                </div>

                <div class="flow-step" data-step="9">
                    <h4>CSS 애니메이션 실행</h4>
                    <p>딱지 변화를 감지하고 부드러운 애니메이션이 시작돼요</p>
                </div>

                <div class="flow-step" data-step="10">
                    <h4>서브메뉴 열림/닫힘 완료 ✨</h4>
                    <p>짜잔! 서브메뉴가 예쁘게 열리거나 닫혀요</p>
                </div>
            </div>

            <!-- 3. 실제 동작 데모 -->
            <div class="section">
                <h2 class="section-title">
                    <i class="fas fa-play-circle"></i>
                    3. 실제 동작 데모
                </h2>

                <p style="text-align: center; margin-bottom: 20px;">
                    아래 데모를 클릭해서 실제로 어떻게 작동하는지 확인해보세요! 🖱️
                </p>

                <div class="demo-sidebar">
                    <div class="demo-sidebar-header">
                        <h3>제품정보</h3>
                    </div>
                    
                    <div class="demo-nav-item" id="demo-item-1">
                        <a class="demo-nav-link" data-category="digital-relay">
                            <span><i class="fas fa-microchip"></i> 디지털 계전기</span>
                            <i class="fas fa-chevron-down expand-icon"></i>
                        </a>
                        <div class="demo-sub-nav">
                            <a class="demo-sub-link">K-PAM 5500 Series</a>
                            <a class="demo-sub-link">K-PAM 10 Series</a>
                            <a class="demo-sub-link">K-IED Series</a>
                        </div>
                    </div>

                    <div class="demo-nav-item" id="demo-item-2">
                        <a class="demo-nav-link" data-category="inductive-relay">
                            <span><i class="fas fa-cogs"></i> 유도형 계전기</span>
                            <i class="fas fa-chevron-down expand-icon"></i>
                        </a>
                        <div class="demo-sub-nav">
                            <a class="demo-sub-link">전류 계전기</a>
                            <a class="demo-sub-link">전압 계전기</a>
                            <a class="demo-sub-link">방향지락 계전기</a>
                        </div>
                    </div>

                    <div class="demo-nav-item" id="demo-item-3">
                        <a class="demo-nav-link" data-category="digital-meter">
                            <span><i class="fas fa-tachometer-alt"></i> 디지털 계기</span>
                            <i class="fas fa-chevron-down expand-icon"></i>
                        </a>
                        <div class="demo-sub-nav">
                            <a class="demo-sub-link">집중표시제어장치</a>
                            <a class="demo-sub-link">전류계</a>
                            <a class="demo-sub-link">전압계</a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 4. 세부 흐름 -->
            <div class="section">
                <h2 class="section-title">
                    <i class="fas fa-search"></i>
                    4. 세부 흐름 (클릭했을 때 정확히 무슨 일이?)
                </h2>

                <div class="highlight">
                    <h4>🖱️ 사용자가 "디지털 계전기" 클릭!</h4>
                </div>

                <div class="code-block" data-lang="1단계: 이벤트 감지">
                    <pre>// 🎯 "어? 누가 나를 클릭했네!"
link.addEventListener('click', function(e) {
    console.log('클릭 감지됨!');
}</pre>
                </div>

                <div class="code-block" data-lang="2단계: 기본 동작 차단">
                    <pre>e.preventDefault();  // "페이지 이동하지 마!"</pre>
                </div>

                <div class="code-block" data-lang="3단계: 현재 상태 확인">
                    <pre>// 🏠 "내가 속한 방이 어디지?"
const navItem = this.closest('.product-nav-item');

// 🔍 "우리 방 서랍이 열려있나?"
const isExpanded = navItem.classList.contains('expanded');
console.log('서랍 열려있음?', isExpanded);</pre>
                </div>

                <div class="code-block" data-lang="4단계: 모든 서랍 닫기">
                    <pre>// 🚪 "다른 방 서랍들 모두 닫아!"
expandableLinks.forEach(otherLink => {
    otherNavItem.classList.remove('expanded');  // 딱지 떼기
});</pre>
                </div>

                <div class="code-block" data-lang="5단계: 클릭한 서랍 열기">
                    <pre>// 🔓 "내 서랍이 닫혀있었으면 열어!"
if (!isExpanded) {
    navItem.classList.add('expanded');      // 방에 'expanded' 딱지
    this.classList.add('expanded');         // 방문에도 'expanded' 딱지
}</pre>
                </div>

                <div class="code-block" data-lang="6단계: CSS 애니메이션 자동 실행">
                    <pre>/* 🎬 딱지가 붙으면 CSS가 자동으로 애니메이션 시작! */
.product-nav-item.expanded .product-sub-nav {
    max-height: 500px;        /* 0px → 500px로 늘어남 */
    transition: max-height 0.3s ease; /* 0.3초 동안 부드럽게 */
}</pre>
                </div>
            </div>

            <!-- 5. 시각적 움직임 -->
            <div class="section">
                <h2 class="section-title">
                    <i class="fas fa-eye"></i>
                    5. 시각적 움직임 (눈에 보이는 변화)
                </h2>

                <div class="highlight">
                    <h4>📏 높이 변화 애니메이션</h4>
                    <p>서랍 닫힘: max-height: 0px (안 보임) 🚫<br>
                    ↓ (0.3초 동안 부드럽게)<br>
                    서랍 열림: max-height: 500px (보임) ✅</p>
                </div>

                <div class="code-block" data-lang="색깔 변화">
                    <pre>/* 🎨 평상시 */
.product-nav-link.expandable {
    color: #666;              /* 회색 글자 */
    background: white;        /* 흰 배경 */
}

/* 🖱️ 마우스 올렸을 때 */
.product-nav-link.expandable:hover {
    background: #f8f9fa;      /* 연한 회색 배경 */
    color: #333;              /* 더 진한 글자 */
}

/* ✅ 선택됐을 때 */
.product-nav-link.expandable.expanded {
    background: #f0f8ff;      /* 연한 파란 배경 */
    color: #2c5aa0;           /* 파란 글자 */
}</pre>
                </div>

                <div class="highlight">
                    <h4>🏹 화살표 회전</h4>
                    <p>평상시: ↓ (아래쪽 화살표)<br>
                    클릭 후: ↑ (위쪽 화살표) - 180도 회전</p>
                </div>

                <div class="highlight">
                    <h4>🎭 서브메뉴 나타남</h4>
                    <p>1. 처음: 서브메뉴 안 보임 (높이 0)<br>
                    2. 클릭: 서랍이 스르르 내려옴 (높이 0 → 500px)<br>
                    3. 완료: 서브메뉴 완전히 보임</p>
                </div>
            </div>

            <!-- 6. 핵심 메커니즘 -->
            <div class="section">
                <h2 class="section-title">
                    <i class="fas fa-cog"></i>
                    6. 핵심 메커니즘 3가지
                </h2>

                <div class="mechanism-box">
                    <div class="mechanism-item">
                        <h4>🏷️ 딱지 시스템</h4>
                        <p>CSS 클래스를 붙이고 떼는 방식<br>
                        'expanded' 딱지가 붙으면 서랍 열림<br>
                        딱지가 떨어지면 서랍 닫힘</p>
                    </div>

                    <div class="mechanism-item">
                        <h4>⚡ 이벤트 리스너</h4>
                        <p>JavaScript 클릭 감지기<br>
                        24시간 대기하다가<br>
                        클릭하면 즉시 반응!</p>
                    </div>

                    <div class="mechanism-item">
                        <h4>🎬 CSS 애니메이션</h4>
                        <p>딱지 변화를 감지하고<br>
                        자동으로 예쁘게 움직임<br>
                        0.3초 동안 부드럽게 변화</p>
                    </div>
                </div>

                <div class="highlight">
                    <h4>🎪 마치 서커스 공연처럼!</h4>
                    <p>
                        1. <strong>🎭 무대 준비 (HTML)</strong>: 서커스 텐트와 무대 설치<br>
                        2. <strong>🎨 무대 장식 (CSS)</strong>: 예쁜 조명과 장식 설치<br>
                        3. <strong>🎪 공연 준비 (JavaScript)</strong>: 공연자들에게 "이때 이렇게 해!" 지시사항 전달<br>
                        4. <strong>👏 관객 박수 (클릭)</strong>: 관객이 박수를 치면<br>
                        5. <strong>🎭 공연 시작</strong>: 공연자들이 정해진 동작 실행<br>
                        6. <strong>✨ 마법 같은 변화</strong>: 무대가 화려하게 변함!
                    </p>
                </div>

                <div class="highlight">
                    <h4>🎉 결론</h4>
                    <p>이렇게 HTML(구조) + CSS(디자인) + JavaScript(동작)가 완벽하게 협력해서 멋진 서브메뉴를 만들어내는 거예요!</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 데모 사이드바 기능 구현
        document.addEventListener('DOMContentLoaded', function() {
            const demoLinks = document.querySelectorAll('.demo-nav-link');
            
            demoLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    const navItem = this.closest('.demo-nav-item');
                    const isExpanded = navItem.classList.contains('expanded');
                    
                    // 모든 메뉴 닫기
                    demoLinks.forEach(otherLink => {
                        const otherNavItem = otherLink.closest('.demo-nav-item');
                        otherNavItem.classList.remove('expanded');
                        otherLink.classList.remove('expanded');
                    });
                    
                    // 클릭한 메뉴가 닫혀있었다면 열기
                    if (!isExpanded) {
                        navItem.classList.add('expanded');
                        this.classList.add('expanded');
                        
                        console.log('📂 데모 메뉴 열림:', this.querySelector('span').textContent);
                    } else {
                        console.log('📁 데모 메뉴 닫힘:', this.querySelector('span').textContent);
                    }
                });
            });
            
            console.log('✅ 데모 사이드바가 준비되었습니다!');
        });
    </script>
</body>
</html>
